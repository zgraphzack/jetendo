/**
 * plugin.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*jshint unused:false */
/*global tinymce:true */


/**
 * zsafile plugin that adds a toolbar button and menu item.
 */
tinymce.PluginManager.add('zsafile', function(editor, url) {
	// Add a button that opens a window
	
	function openGalleryDialog(){
			// Open window with a specific url
			editor.windowManager.open({
				title: 'Insert File',
				url: url + '/dialog.htm',
				width: 600,
				height: 400,
				buttons: [ 
					{text: 'Close', onclick: 'close'}
				]
			});
		
	}
	
	editor.addButton('zsafile', {
		text: 'Insert File',
		icon: false,
		onclick: openGalleryDialog 
	});

	// Adds a menu item to the tools menu
	editor.addMenuItem('zsafile', {
		text: 'Insert File',
		context: 'insert',
		icon:"image",
		onclick: openGalleryDialog
	});
});
